# Icke-officiell errata för P!M 171029
Synpunkter på och (icke-officiella) rättelser till e-boken "P!M Programmera i matematik -- 
Att använda programmering som ett verktyg i matematikundervisningen i årskurs 7-9" (pim171029.pdf) av Staffan Melin.  
Hittills baserat på kapitel 1-4.  
Släppt under CC Erkännande-DelaLika 4.0 Internationell (CC BY-SA 4.0).  
Länk: http://oscillator.se/skola#pim  
Direktlänk: http://oscillator.se/sites/default/files/skola/pim171029.pdf

Det verkar som om Python i [trinket.io](https://trinket.io/)-konsolen är Python3, ty den svarar på samma sätt som
python3 i Ubuntu 16.04 GNU/Linux.
Python (d.v.s. python2) i Ubuntu svarar på samma sätt som bokens exempel. Dock skriver konsolen i trinket.io ut som python2 när
det gäller print() med flera argument. Man borde använda python3 för kapitel 3, men notera skillnader gentemot trinket.io-Python.
Nu finns även trinket.io-Python3, men det verkar inte ha lika många moduler.

Exempel på sidan 12 borde vara
```
>>> 6/2  
3.0  
>>> 8/4  
2.0
```

Diskuterar inte associativitet nu på sidan 13, men ** har höger till vänster, men - och förmodligen +, * , /, // och % har vänster till höger.  
```
>>> 2**3**4
2417851639229258349412352
>>> (2**3)**4
4096
>>> 2**(3**4)
2417851639229258349412352
>>> 10-4-2
4
>>> (10-4)-2
4
>>> 10-(4-2)
8
```

Mitt på sidan 14 är ett fel, men man kan skriva liknande i Trinket om man trycker Skift+Enter:
```
>>> antal_applen=4 
... antal_paron=antal_applen 
... antal_frukter=antal_applen+antal_paron
```
Borde stå "fysikaliska formeln" i stället för "fysikaliska formen".

En avvikelse i trinket.io jämfört med python3: Det blir utan enkelcitat:
```
>>> a+b+c+d
matematik
```

Det nämns inte att + för strängar slår ihop (konkatenerar).

Det går inte att skriva hakparenteser eller krulliga parenteser i trinket.io-konsolen i Chrome i Windows 10
(nuvarande versioner) om man har svenskt tangentbord (SWE). Ett sätt att kringgå buggen är att klistra in [] 
eller {} eller byta till amerikanskt tangentbord (ENG). Det går att skriva {[]} i redigeraren i samma system.
{[]} fungerar i trinket.io-konsolen i Chromium i Lubuntu 16.04 på Raspberry Pi med danskt tangentbord.

Mitt på sidan 16 borde det kanske stå:
```
>>> d=int(c)
>>> d
0
```

Samma fel längre ner.

Bugg i trinket.io-Python:
```
>>> round(1/2)
1.0
```

python2 i Ubuntu:
```
>>> round(1/2)
0.0
```

python3 i Ubuntu och trinket.io-Python3:
```
>>> round(1/2)
0
```

Detta borde noteras.

Överst på sidan 19 är ett dubbelcitat missat (samma fel i nästa två exempel och på sidan 5) och två dubbelcitat av fel sort 
(” i stället för ").  
Rättat:
```
a = int(input("Skriv in ett tal mellan 1 och 10:"))
if a > 5:
    print("Du skrev in talet", a)
    print("Talet är större än 5!")
```

Detta exempel från sidan 27 ger en viss utskrift: 
```
for tal in range(1, 50):
    print(tal * 2)
```

Men då måste man ändra nästa exempel till t.ex. följande för att det skall skriva ut samma:
```
tal = 2
while tal < 100:
  print(tal)
  tal = tal + 2
```

Slumptal behövs redan på sidan 29 i *Projekt: Gissa faktorer*, men gås igenom först på sidan 36.

På sidan 30 problem 1 behövs nog `not` eller `!=` eller `<>`, men dessa gås inte igenom förrän senare, men en lösning med
kunskaperna hittills är:
```
for tal in range(1, 100):
    kvot = tal / 2
    if kvot < int(kvot) or kvot > int(kvot):
        print(tal)
```     

*råstyrkemetoden* i stället för *råstyrka-metoden*.

På sidan 32 behöver man ändra programmet lite för att kunna faktorisera alla tal, d.v.s. även primtal (även om faktorn 1 är triviell):
```
tal = 56
for faktor1 in range(1, tal):
    for faktor2 in range (faktor1, tal+1):
        if tal == faktor1 * faktor2:
            print(faktor1, faktor2)
```

På sidan 35 gäller att `range()` redan går igenom t.o.m. tal-1 så om man skriver `tal-1` som övre gräns så blir det t.o.m. tal-2.
Alltså borde exemplet ändras till:
```
def primtal(tal):
    for i in range(2, tal):
        if tal % i == 0:
            return False
    return True
```
Dock fungerar `tal-1` som övre gräns, ty det fungerar med `int(math.sqrt(tal))+1` för tal=4.

Variabeln `mitt_tal` används inte i originalet, men fixat här:
```  
mitt_tal = 47
ar_tal_primtal = primtal(mitt_tal)
if ar_tal_primtal:
    print(mitt_tal, "är ett primtal")
else:
    print(mitt_tal, "är inte ett primtal")
```

På sidan 37 skall det vara "större delen av världen" i stället för "större delen av värden".  
"4711 = 4 · 1000 + 7 · 100 + 11 · 10 + 1" i stället för "4711 = 4 · 1000 + 7 · 100 + 11 · 10 + 11".  
"4711 = 4 · 10^3 + 7 · 10^2 + 11 · 10^1 + 1 · 10^0" i stället för "4711 = 4 · 10^3 + 7 · 10^2 + 11 · 10^1 + 11 · 10^0".
